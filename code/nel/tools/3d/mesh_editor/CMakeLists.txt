
FILE(GLOB SRCS *.cpp)
FILE(GLOB HDRS *.h)
IF (WIN32)
	FILE(GLOB RSRC *.rc)
ENDIF (WIN32)
FILE(GLOB RESOURCES *.qrc)

SOURCE_GROUP("" FILES ${SRCS} ${HDRS} ${RSRC} ${RESOURCES})

SET(CMAKE_AUTOMOC ON)

QT5_ADD_RESOURCES(RESOURCE_ADDED ${RESOURCES})

ADD_EXECUTABLE(nl_mesh_editor WIN32 ${SRC}
	${SRCS}
	${HDRS}
	${RSRC}
	${RESOURCE_ADDED}
	${PANOPLY_MAKER}
	)

IF(QT_STATIC)
  SET(PANOPLY_PREVIEW_QT_LIBRARIES ${QT_LIBRARIES})
ELSE()
  SET(PANOPLY_PREVIEW_QT_LIBRARIES Qt5::Widgets)
ENDIF()

TARGET_LINK_LIBRARIES(nl_mesh_editor
	nelmisc
	nel3d
	nelsound
	shared_widgets
	mesh_utils)

NL_DEFAULT_PROPS(nl_mesh_editor "NeL, Tools, 3D: Mesh Editor")
NL_ADD_RUNTIME_FLAGS(nl_mesh_editor)

INSTALL(TARGETS nl_mesh_editor RUNTIME DESTINATION ${NL_BIN_PREFIX} COMPONENT samples3d)
